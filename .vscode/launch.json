{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [


        {
            "name": "Python Debugger: Attach",
            "type": "debugpy",
            "request": "attach",
            "connect": {
                "host": "localhost", // Change to remote host IP if debugging remotely
                "port": 45678 // Ensure this matches the port used in your debugpy.listen() call
            },
            "justMyCode": false
        },
        {
            "name": "gisting/train",
            "type": "debugpy",
            "request": "launch",
            "module": "accelerate.commands.launch",
            "args": [
                "--num_processes=4",
                "--num_machines=1",
                "--main_process_port", "29500",
                "-m", "src.train",
                    "+model=llama-7b",
                    "wandb.tag=debug",
                    "training.gist.condition=gist",
                    "training.evaluation_strategy=steps",
                    "training.eval_steps=25",
                    "training.per_device_train_batch_size=2",
                    "training.gradient_accumulation_steps=64",
                    "training.learning_rate=2e-5",
                    "training.gist.num_gist_tokens=1"
            ],
            "console": "integratedTerminal"
        }

    ]
}